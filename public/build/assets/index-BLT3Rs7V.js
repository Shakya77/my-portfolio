import{c as lt,u as it,r as q,a as Ge,j as t}from"./app-BHxi8hRt.js";import{B as n}from"./button-Dsyu4CIe.js";import{D as Je,a as Ke,b as Qe,c as Ve,d as We,e as Xe}from"./dialog-2rgETYnC.js";import{I as Ye}from"./input-qfMoKNwG.js";import{L as _e}from"./label-CTuGfuNN.js";import{P as nt,b as at,T as Ze,c as K,a as Q,d as rt,e as ct,f as ot,g as dt}from"./table-RjFQGrNh.js";import{T as et}from"./textarea-B1gEyTkX.js";import{A as mt}from"./app-layout-B9stAeKC.js";/* empty css            */import"./index-BhoPD8Mt.js";import"./index-DeQr00_w.js";import"./app-logo-icon-Beq3UYcq.js";function Dt(tt){const e=lt.c(128),{posts:we}=tt,{flash:l}=it().props,[Pe,V]=q.useState(!1),[Ee,W]=q.useState(!1),[X,Te]=q.useState(null),[ke,Y]=q.useState(!1),[G,Fe]=q.useState(null);let Z;e[0]===Symbol.for("react.memo_cache_sentinel")?(Z={title:"",content:""},e[0]=Z):Z=e[0];const{data:o,setData:d,post:Ae,processing:ee,errors:a,reset:Me}=Ge(Z);let te;e[1]===Symbol.for("react.memo_cache_sentinel")?(te={title:"",content:""},e[1]=te):te=e[1];const{data:m,setData:i,put:Ie,processing:se,errors:r,reset:Le}=Ge(te);let le;e[2]===Symbol.for("react.memo_cache_sentinel")?(le={},e[2]=le):le=e[2];const{delete:Be,processing:ie}=Ge(le);let ne;e[3]!==Ae||e[4]!==Me?(ne=s=>{s.preventDefault(),Ae(route("posts.store"),{onSuccess:()=>{V(!1),Me()}})},e[3]=Ae,e[4]=Me,e[5]=ne):ne=e[5];const He=ne;let ae;e[6]!==X||e[7]!==Ie||e[8]!==Le?(ae=s=>{s.preventDefault(),X&&Ie(route("posts.update",X.id),{onSuccess:()=>{W(!1),Te(null),Le()}})},e[6]=X,e[7]=Ie,e[8]=Le,e[9]=ae):ae=e[9];const Oe=ae;let re;e[10]===Symbol.for("react.memo_cache_sentinel")?(re=s=>{Fe(s),Y(!0)},e[10]=re):re=e[10];const st=re;let ce;e[11]!==G||e[12]!==Be?(ce=()=>{G&&Be(route("posts.destroy",G.id),{onSuccess:()=>{Y(!1),Fe(null)}})},e[11]=G,e[12]=Be,e[13]=ce):ce=e[13];const Re=ce;let oe;e[14]!==i?(oe=s=>{Te(s),i({title:s.title,content:s.content}),W(!0)},e[14]=i,e[15]=oe):oe=e[15];const J=oe;let de;e[16]!==l?.success?(de=()=>{if(l?.success){const s=setTimeout(ht,3e3);return()=>clearTimeout(s)}},e[16]=l?.success,e[17]=de):de=e[17];let me;e[18]!==l?(me=[l],e[18]=l,e[19]=me):me=e[19],q.useEffect(de,me);let h;e[20]!==l?(h=l?.success&&t.jsx("div",{className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:l.success}),e[20]=l,e[21]=h):h=e[21];let he;e[22]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("h2",{className:"text-2xl font-bold",children:"Posts"}),e[22]=he):he=e[22];let xe;e[23]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[he,t.jsxs(n,{onClick:()=>V(!0),children:[t.jsx(nt,{className:"w-4 h-4 mr-2"}),"Create New Post"]})]}),e[23]=xe):xe=e[23];let fe;e[24]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(at,{children:t.jsxs(Ze,{children:[t.jsx(K,{children:"ID"}),t.jsx(K,{children:"Title"}),t.jsx(K,{children:"Content"}),t.jsx(K,{children:"Created At"}),t.jsx(K,{className:"text-right",children:"Actions"})]})}),e[24]=fe):fe=e[24];let x;if(e[25]!==J||e[26]!==we){let s;e[28]!==J?(s=c=>t.jsxs(Ze,{children:[t.jsx(Q,{children:c.id}),t.jsx(Q,{className:"font-medium",children:c.title}),t.jsxs(Q,{children:[c.content.substring(0,50),"..."]}),t.jsx(Q,{children:new Date(c.created_at).toLocaleDateString()}),t.jsxs(Q,{className:"text-right",children:[t.jsx(n,{variant:"ghost",size:"sm",onClick:()=>J(c),className:"mr-2",children:t.jsx(rt,{className:"w-4 h-4"})}),t.jsx(n,{variant:"ghost",size:"sm",onClick:()=>st(c),className:"text-red-600 hover:text-red-700",children:t.jsx(ct,{className:"w-4 h-4"})})]})]},c.id),e[28]=J,e[29]=s):s=e[29],x=we.map(s),e[25]=J,e[26]=we,e[27]=x}else x=e[27];let f;e[30]!==x?(f=t.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:t.jsxs("div",{className:"p-6",children:[xe,t.jsx("div",{className:"rounded-md border",children:t.jsxs(ot,{children:[fe,t.jsx(dt,{children:x})]})})]})}),e[30]=x,e[31]=f):f=e[31];let u;e[32]!==h||e[33]!==f?(u=t.jsx("div",{className:"py-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[h,f]})}),e[32]=h,e[33]=f,e[34]=u):u=e[34];let ue;e[35]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsxs(Je,{children:[t.jsx(Ke,{children:"Create New Post"}),t.jsx(Qe,{children:"Fill in the details below to create a new post."})]}),e[35]=ue):ue=e[35];let je;e[36]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(_e,{htmlFor:"create-title",children:"Title"}),e[36]=je):je=e[36];let j;e[37]!==d?(j=s=>d("title",s.target.value),e[37]=d,e[38]=j):j=e[38];let p;e[39]!==o.title||e[40]!==j?(p=t.jsx(Ye,{id:"create-title",value:o.title,onChange:j,placeholder:"Enter post title"}),e[39]=o.title,e[40]=j,e[41]=p):p=e[41];let g;e[42]!==a.title?(g=a.title&&t.jsx("p",{className:"text-sm text-red-500",children:a.title}),e[42]=a.title,e[43]=g):g=e[43];let b;e[44]!==p||e[45]!==g?(b=t.jsxs("div",{className:"grid gap-2",children:[je,p,g]}),e[44]=p,e[45]=g,e[46]=b):b=e[46];let pe;e[47]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(_e,{htmlFor:"create-content",children:"Content"}),e[47]=pe):pe=e[47];let y;e[48]!==d?(y=s=>d("content",s.target.value),e[48]=d,e[49]=y):y=e[49];let v;e[50]!==o.content||e[51]!==y?(v=t.jsx(et,{id:"create-content",value:o.content,onChange:y,placeholder:"Enter post content",rows:5}),e[50]=o.content,e[51]=y,e[52]=v):v=e[52];let N;e[53]!==a.content?(N=a.content&&t.jsx("p",{className:"text-sm text-red-500",children:a.content}),e[53]=a.content,e[54]=N):N=e[54];let S;e[55]!==v||e[56]!==N?(S=t.jsxs("div",{className:"grid gap-2",children:[pe,v,N]}),e[55]=v,e[56]=N,e[57]=S):S=e[57];let C;e[58]!==b||e[59]!==S?(C=t.jsxs("div",{className:"grid gap-4 py-4",children:[b,S]}),e[58]=b,e[59]=S,e[60]=C):C=e[60];let ge;e[61]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(n,{type:"button",variant:"outline",onClick:()=>V(!1),children:"Cancel"}),e[61]=ge):ge=e[61];const Ue=ee?"Creating...":"Create Post";let D;e[62]!==ee||e[63]!==Ue?(D=t.jsxs(Ve,{children:[ge,t.jsx(n,{type:"submit",disabled:ee,children:Ue})]}),e[62]=ee,e[63]=Ue,e[64]=D):D=e[64];let _;e[65]!==He||e[66]!==C||e[67]!==D?(_=t.jsxs(We,{className:"sm:max-w-[425px]",children:[ue,t.jsxs("form",{onSubmit:He,children:[C,D]})]}),e[65]=He,e[66]=C,e[67]=D,e[68]=_):_=e[68];let w;e[69]!==Pe||e[70]!==_?(w=t.jsx(Xe,{open:Pe,onOpenChange:V,children:_}),e[69]=Pe,e[70]=_,e[71]=w):w=e[71];let be;e[72]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsxs(Je,{children:[t.jsx(Ke,{children:"Edit Post"}),t.jsx(Qe,{children:"Update the post details below."})]}),e[72]=be):be=e[72];let ye;e[73]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(_e,{htmlFor:"edit-title",children:"Title"}),e[73]=ye):ye=e[73];let P;e[74]!==i?(P=s=>i("title",s.target.value),e[74]=i,e[75]=P):P=e[75];let E;e[76]!==m.title||e[77]!==P?(E=t.jsx(Ye,{id:"edit-title",value:m.title,onChange:P,placeholder:"Enter post title"}),e[76]=m.title,e[77]=P,e[78]=E):E=e[78];let T;e[79]!==r.title?(T=r.title&&t.jsx("p",{className:"text-sm text-red-500",children:r.title}),e[79]=r.title,e[80]=T):T=e[80];let k;e[81]!==E||e[82]!==T?(k=t.jsxs("div",{className:"grid gap-2",children:[ye,E,T]}),e[81]=E,e[82]=T,e[83]=k):k=e[83];let ve;e[84]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(_e,{htmlFor:"edit-content",children:"Content"}),e[84]=ve):ve=e[84];let F;e[85]!==i?(F=s=>i("content",s.target.value),e[85]=i,e[86]=F):F=e[86];let A;e[87]!==m.content||e[88]!==F?(A=t.jsx(et,{id:"edit-content",value:m.content,onChange:F,placeholder:"Enter post content",rows:5}),e[87]=m.content,e[88]=F,e[89]=A):A=e[89];let M;e[90]!==r.content?(M=r.content&&t.jsx("p",{className:"text-sm text-red-500",children:r.content}),e[90]=r.content,e[91]=M):M=e[91];let I;e[92]!==A||e[93]!==M?(I=t.jsxs("div",{className:"grid gap-2",children:[ve,A,M]}),e[92]=A,e[93]=M,e[94]=I):I=e[94];let L;e[95]!==k||e[96]!==I?(L=t.jsxs("div",{className:"grid gap-4 py-4",children:[k,I]}),e[95]=k,e[96]=I,e[97]=L):L=e[97];let Ne;e[98]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(n,{type:"button",variant:"outline",onClick:()=>{W(!1),Te(null)},children:"Cancel"}),e[98]=Ne):Ne=e[98];const ze=se?"Updating...":"Update Post";let B;e[99]!==se||e[100]!==ze?(B=t.jsxs(Ve,{children:[Ne,t.jsx(n,{type:"submit",disabled:se,children:ze})]}),e[99]=se,e[100]=ze,e[101]=B):B=e[101];let H;e[102]!==Oe||e[103]!==L||e[104]!==B?(H=t.jsxs(We,{className:"sm:max-w-[425px]",children:[be,t.jsxs("form",{onSubmit:Oe,children:[L,B]})]}),e[102]=Oe,e[103]=L,e[104]=B,e[105]=H):H=e[105];let O;e[106]!==Ee||e[107]!==H?(O=t.jsx(Xe,{open:Ee,onOpenChange:W,children:H}),e[106]=Ee,e[107]=H,e[108]=O):O=e[108];let Se;e[109]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsxs(Je,{children:[t.jsx(Ke,{children:"Delete Post"}),t.jsx(Qe,{children:"Are you sure you want to delete this post? This action cannot be undone."})]}),e[109]=Se):Se=e[109];const $e=G?.title;let R;e[110]!==$e?(R=t.jsx("div",{className:"py-4",children:t.jsxs("p",{className:"text-sm text-gray-500",children:["Post: ",t.jsx("span",{className:"font-medium text-gray-900",children:$e})]})}),e[110]=$e,e[111]=R):R=e[111];let Ce;e[112]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsx(n,{type:"button",variant:"outline",onClick:()=>{Y(!1),Fe(null)},children:"Cancel"}),e[112]=Ce):Ce=e[112];const qe=ie?"Deleting...":"Delete";let U;e[113]!==Re||e[114]!==ie||e[115]!==qe?(U=t.jsxs(Ve,{children:[Ce,t.jsx(n,{type:"button",variant:"destructive",onClick:Re,disabled:ie,children:qe})]}),e[113]=Re,e[114]=ie,e[115]=qe,e[116]=U):U=e[116];let z;e[117]!==R||e[118]!==U?(z=t.jsxs(We,{className:"sm:max-w-[425px]",children:[Se,R,U]}),e[117]=R,e[118]=U,e[119]=z):z=e[119];let $;e[120]!==ke||e[121]!==z?($=t.jsx(Xe,{open:ke,onOpenChange:Y,children:z}),e[120]=ke,e[121]=z,e[122]=$):$=e[122];let De;return e[123]!==u||e[124]!==w||e[125]!==O||e[126]!==$?(De=t.jsxs(mt,{children:[u,w,O,$]}),e[123]=u,e[124]=w,e[125]=O,e[126]=$,e[127]=De):De=e[127],De}function ht(){}export{Dt as default};
