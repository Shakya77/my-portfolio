import{c as f,j as t,u as nt,r as Q,a as Ke}from"./app-si_DEfNi.js";import{b as tt,a as W,B as r}from"./createLucideIcon-BskQRVeK.js";import{D as Qe,a as We,b as Xe,c as Ye,d as Ze,e as et}from"./dialog-DFk1kRgx.js";import{I as st}from"./input-l9qRfmbm.js";import{L as Te}from"./label-DgL17-sC.js";import{T as lt}from"./textarea-DTXuq93m.js";import{A as ot}from"./app-layout-VyfNxOek.js";/* empty css            */import"./index-xw5-n3mT.js";import"./index-C2y1rcGt.js";import"./index-D9NlsVcq.js";const ct=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],rt=tt("Pencil",ct);const dt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mt=tt("Plus",dt);const ht=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ft=tt("Trash2",ht);function xt(n){const e=f.c(8);let l,s;e[0]!==n?({className:l,...s}=n,e[0]=n,e[1]=l,e[2]=s):(l=e[1],s=e[2]);let a;e[3]!==l?(a=W("w-full caption-bottom text-sm",l),e[3]=l,e[4]=a):a=e[4];let i;return e[5]!==s||e[6]!==a?(i=t.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:t.jsx("table",{"data-slot":"table",className:a,...s})}),e[5]=s,e[6]=a,e[7]=i):i=e[7],i}function pt(n){const e=f.c(8);let l,s;e[0]!==n?({className:l,...s}=n,e[0]=n,e[1]=l,e[2]=s):(l=e[1],s=e[2]);let a;e[3]!==l?(a=W("[&_tr]:border-b",l),e[3]=l,e[4]=a):a=e[4];let i;return e[5]!==s||e[6]!==a?(i=t.jsx("thead",{"data-slot":"table-header",className:a,...s}),e[5]=s,e[6]=a,e[7]=i):i=e[7],i}function ut(n){const e=f.c(8);let l,s;e[0]!==n?({className:l,...s}=n,e[0]=n,e[1]=l,e[2]=s):(l=e[1],s=e[2]);let a;e[3]!==l?(a=W("[&_tr:last-child]:border-0",l),e[3]=l,e[4]=a):a=e[4];let i;return e[5]!==s||e[6]!==a?(i=t.jsx("tbody",{"data-slot":"table-body",className:a,...s}),e[5]=s,e[6]=a,e[7]=i):i=e[7],i}function at(n){const e=f.c(8);let l,s;e[0]!==n?({className:l,...s}=n,e[0]=n,e[1]=l,e[2]=s):(l=e[1],s=e[2]);let a;e[3]!==l?(a=W("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",l),e[3]=l,e[4]=a):a=e[4];let i;return e[5]!==s||e[6]!==a?(i=t.jsx("tr",{"data-slot":"table-row",className:a,...s}),e[5]=s,e[6]=a,e[7]=i):i=e[7],i}function Z(n){const e=f.c(8);let l,s;e[0]!==n?({className:l,...s}=n,e[0]=n,e[1]=l,e[2]=s):(l=e[1],s=e[2]);let a;e[3]!==l?(a=W("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",l),e[3]=l,e[4]=a):a=e[4];let i;return e[5]!==s||e[6]!==a?(i=t.jsx("th",{"data-slot":"table-head",className:a,...s}),e[5]=s,e[6]=a,e[7]=i):i=e[7],i}function ee(n){const e=f.c(8);let l,s;e[0]!==n?({className:l,...s}=n,e[0]=n,e[1]=l,e[2]=s):(l=e[1],s=e[2]);let a;e[3]!==l?(a=W("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",l),e[3]=l,e[4]=a):a=e[4];let i;return e[5]!==s||e[6]!==a?(i=t.jsx("td",{"data-slot":"table-cell",className:a,...s}),e[5]=s,e[6]=a,e[7]=i):i=e[7],i}function Pt(n){const e=f.c(128),{posts:l}=n,{flash:s}=nt().props,[a,i]=Q.useState(!1),[Me,te]=Q.useState(!1),[se,$e]=Q.useState(null),[Fe,le]=Q.useState(!1),[X,Le]=Q.useState(null);let ae;e[0]===Symbol.for("react.memo_cache_sentinel")?(ae={title:"",content:""},e[0]=ae):ae=e[0];const{data:x,setData:p,post:Ae,processing:ie,errors:d,reset:Ie}=Ke(ae);let ne;e[1]===Symbol.for("react.memo_cache_sentinel")?(ne={title:"",content:""},e[1]=ne):ne=e[1];const{data:u,setData:c,put:ze,processing:oe,errors:m,reset:He}=Ke(ne);let ce;e[2]===Symbol.for("react.memo_cache_sentinel")?(ce={},e[2]=ce):ce=e[2];const{delete:Be,processing:re}=Ke(ce);let de;e[3]!==Ae||e[4]!==Ie?(de=o=>{o.preventDefault(),Ae(route("posts.store"),{onSuccess:()=>{i(!1),Ie()}})},e[3]=Ae,e[4]=Ie,e[5]=de):de=e[5];const Oe=de;let me;e[6]!==se||e[7]!==ze||e[8]!==He?(me=o=>{o.preventDefault(),se&&ze(route("posts.update",se.id),{onSuccess:()=>{te(!1),$e(null),He()}})},e[6]=se,e[7]=ze,e[8]=He,e[9]=me):me=e[9];const Re=me;let he;e[10]===Symbol.for("react.memo_cache_sentinel")?(he=o=>{Le(o),le(!0)},e[10]=he):he=e[10];const it=he;let fe;e[11]!==X||e[12]!==Be?(fe=()=>{X&&Be(route("posts.destroy",X.id),{onSuccess:()=>{le(!1),Le(null)}})},e[11]=X,e[12]=Be,e[13]=fe):fe=e[13];const Ue=fe;let xe;e[14]!==c?(xe=o=>{$e(o),c({title:o.title,content:o.content}),te(!0)},e[14]=c,e[15]=xe):xe=e[15];const Y=xe;let pe;e[16]!==s?.success?(pe=()=>{if(s?.success){const o=setTimeout(jt,3e3);return()=>clearTimeout(o)}},e[16]=s?.success,e[17]=pe):pe=e[17];let ue;e[18]!==s?(ue=[s],e[18]=s,e[19]=ue):ue=e[19],Q.useEffect(pe,ue);let j;e[20]!==s?(j=s?.success&&t.jsx("div",{className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:s.success}),e[20]=s,e[21]=j):j=e[21];let je;e[22]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx("h2",{className:"text-2xl font-bold",children:"Posts"}),e[22]=je):je=e[22];let be;e[23]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[je,t.jsxs(r,{onClick:()=>i(!0),children:[t.jsx(mt,{className:"w-4 h-4 mr-2"}),"Create New Post"]})]}),e[23]=be):be=e[23];let ge;e[24]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(pt,{children:t.jsxs(at,{children:[t.jsx(Z,{children:"ID"}),t.jsx(Z,{children:"Title"}),t.jsx(Z,{children:"Content"}),t.jsx(Z,{children:"Created At"}),t.jsx(Z,{className:"text-right",children:"Actions"})]})}),e[24]=ge):ge=e[24];let b;if(e[25]!==Y||e[26]!==l){let o;e[28]!==Y?(o=h=>t.jsxs(at,{children:[t.jsx(ee,{children:h.id}),t.jsx(ee,{className:"font-medium",children:h.title}),t.jsxs(ee,{children:[h.content.substring(0,50),"..."]}),t.jsx(ee,{children:new Date(h.created_at).toLocaleDateString()}),t.jsxs(ee,{className:"text-right",children:[t.jsx(r,{variant:"ghost",size:"sm",onClick:()=>Y(h),className:"mr-2",children:t.jsx(rt,{className:"w-4 h-4"})}),t.jsx(r,{variant:"ghost",size:"sm",onClick:()=>it(h),className:"text-red-600 hover:text-red-700",children:t.jsx(ft,{className:"w-4 h-4"})})]})]},h.id),e[28]=Y,e[29]=o):o=e[29],b=l.map(o),e[25]=Y,e[26]=l,e[27]=b}else b=e[27];let g;e[30]!==b?(g=t.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:t.jsxs("div",{className:"p-6",children:[be,t.jsx("div",{className:"rounded-md border",children:t.jsxs(xt,{children:[ge,t.jsx(ut,{children:b})]})})]})}),e[30]=b,e[31]=g):g=e[31];let y;e[32]!==j||e[33]!==g?(y=t.jsx("div",{className:"py-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[j,g]})}),e[32]=j,e[33]=g,e[34]=y):y=e[34];let ye;e[35]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsxs(Qe,{children:[t.jsx(We,{children:"Create New Post"}),t.jsx(Xe,{children:"Fill in the details below to create a new post."})]}),e[35]=ye):ye=e[35];let Ne;e[36]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(Te,{htmlFor:"create-title",children:"Title"}),e[36]=Ne):Ne=e[36];let N;e[37]!==p?(N=o=>p("title",o.target.value),e[37]=p,e[38]=N):N=e[38];let v;e[39]!==x.title||e[40]!==N?(v=t.jsx(st,{id:"create-title",value:x.title,onChange:N,placeholder:"Enter post title"}),e[39]=x.title,e[40]=N,e[41]=v):v=e[41];let w;e[42]!==d.title?(w=d.title&&t.jsx("p",{className:"text-sm text-red-500",children:d.title}),e[42]=d.title,e[43]=w):w=e[43];let _;e[44]!==v||e[45]!==w?(_=t.jsxs("div",{className:"grid gap-2",children:[Ne,v,w]}),e[44]=v,e[45]=w,e[46]=_):_=e[46];let ve;e[47]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(Te,{htmlFor:"create-content",children:"Content"}),e[47]=ve):ve=e[47];let S;e[48]!==p?(S=o=>p("content",o.target.value),e[48]=p,e[49]=S):S=e[49];let C;e[50]!==x.content||e[51]!==S?(C=t.jsx(lt,{id:"create-content",value:x.content,onChange:S,placeholder:"Enter post content",rows:5}),e[50]=x.content,e[51]=S,e[52]=C):C=e[52];let D;e[53]!==d.content?(D=d.content&&t.jsx("p",{className:"text-sm text-red-500",children:d.content}),e[53]=d.content,e[54]=D):D=e[54];let k;e[55]!==C||e[56]!==D?(k=t.jsxs("div",{className:"grid gap-2",children:[ve,C,D]}),e[55]=C,e[56]=D,e[57]=k):k=e[57];let P;e[58]!==_||e[59]!==k?(P=t.jsxs("div",{className:"grid gap-4 py-4",children:[_,k]}),e[58]=_,e[59]=k,e[60]=P):P=e[60];let we;e[61]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx(r,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e[61]=we):we=e[61];const Ve=ie?"Creating...":"Create Post";let E;e[62]!==ie||e[63]!==Ve?(E=t.jsxs(Ye,{children:[we,t.jsx(r,{type:"submit",disabled:ie,children:Ve})]}),e[62]=ie,e[63]=Ve,e[64]=E):E=e[64];let T;e[65]!==Oe||e[66]!==P||e[67]!==E?(T=t.jsxs(Ze,{className:"sm:max-w-[425px]",children:[ye,t.jsxs("form",{onSubmit:Oe,children:[P,E]})]}),e[65]=Oe,e[66]=P,e[67]=E,e[68]=T):T=e[68];let M;e[69]!==a||e[70]!==T?(M=t.jsx(et,{open:a,onOpenChange:i,children:T}),e[69]=a,e[70]=T,e[71]=M):M=e[71];let _e;e[72]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs(Qe,{children:[t.jsx(We,{children:"Edit Post"}),t.jsx(Xe,{children:"Update the post details below."})]}),e[72]=_e):_e=e[72];let Se;e[73]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(Te,{htmlFor:"edit-title",children:"Title"}),e[73]=Se):Se=e[73];let $;e[74]!==c?($=o=>c("title",o.target.value),e[74]=c,e[75]=$):$=e[75];let F;e[76]!==u.title||e[77]!==$?(F=t.jsx(st,{id:"edit-title",value:u.title,onChange:$,placeholder:"Enter post title"}),e[76]=u.title,e[77]=$,e[78]=F):F=e[78];let L;e[79]!==m.title?(L=m.title&&t.jsx("p",{className:"text-sm text-red-500",children:m.title}),e[79]=m.title,e[80]=L):L=e[80];let A;e[81]!==F||e[82]!==L?(A=t.jsxs("div",{className:"grid gap-2",children:[Se,F,L]}),e[81]=F,e[82]=L,e[83]=A):A=e[83];let Ce;e[84]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsx(Te,{htmlFor:"edit-content",children:"Content"}),e[84]=Ce):Ce=e[84];let I;e[85]!==c?(I=o=>c("content",o.target.value),e[85]=c,e[86]=I):I=e[86];let z;e[87]!==u.content||e[88]!==I?(z=t.jsx(lt,{id:"edit-content",value:u.content,onChange:I,placeholder:"Enter post content",rows:5}),e[87]=u.content,e[88]=I,e[89]=z):z=e[89];let H;e[90]!==m.content?(H=m.content&&t.jsx("p",{className:"text-sm text-red-500",children:m.content}),e[90]=m.content,e[91]=H):H=e[91];let B;e[92]!==z||e[93]!==H?(B=t.jsxs("div",{className:"grid gap-2",children:[Ce,z,H]}),e[92]=z,e[93]=H,e[94]=B):B=e[94];let O;e[95]!==A||e[96]!==B?(O=t.jsxs("div",{className:"grid gap-4 py-4",children:[A,B]}),e[95]=A,e[96]=B,e[97]=O):O=e[97];let De;e[98]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx(r,{type:"button",variant:"outline",onClick:()=>{te(!1),$e(null)},children:"Cancel"}),e[98]=De):De=e[98];const qe=oe?"Updating...":"Update Post";let R;e[99]!==oe||e[100]!==qe?(R=t.jsxs(Ye,{children:[De,t.jsx(r,{type:"submit",disabled:oe,children:qe})]}),e[99]=oe,e[100]=qe,e[101]=R):R=e[101];let U;e[102]!==Re||e[103]!==O||e[104]!==R?(U=t.jsxs(Ze,{className:"sm:max-w-[425px]",children:[_e,t.jsxs("form",{onSubmit:Re,children:[O,R]})]}),e[102]=Re,e[103]=O,e[104]=R,e[105]=U):U=e[105];let V;e[106]!==Me||e[107]!==U?(V=t.jsx(et,{open:Me,onOpenChange:te,children:U}),e[106]=Me,e[107]=U,e[108]=V):V=e[108];let ke;e[109]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsxs(Qe,{children:[t.jsx(We,{children:"Delete Post"}),t.jsx(Xe,{children:"Are you sure you want to delete this post? This action cannot be undone."})]}),e[109]=ke):ke=e[109];const Ge=X?.title;let q;e[110]!==Ge?(q=t.jsx("div",{className:"py-4",children:t.jsxs("p",{className:"text-sm text-gray-500",children:["Post: ",t.jsx("span",{className:"font-medium text-gray-900",children:Ge})]})}),e[110]=Ge,e[111]=q):q=e[111];let Pe;e[112]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsx(r,{type:"button",variant:"outline",onClick:()=>{le(!1),Le(null)},children:"Cancel"}),e[112]=Pe):Pe=e[112];const Je=re?"Deleting...":"Delete";let G;e[113]!==Ue||e[114]!==re||e[115]!==Je?(G=t.jsxs(Ye,{children:[Pe,t.jsx(r,{type:"button",variant:"destructive",onClick:Ue,disabled:re,children:Je})]}),e[113]=Ue,e[114]=re,e[115]=Je,e[116]=G):G=e[116];let J;e[117]!==q||e[118]!==G?(J=t.jsxs(Ze,{className:"sm:max-w-[425px]",children:[ke,q,G]}),e[117]=q,e[118]=G,e[119]=J):J=e[119];let K;e[120]!==Fe||e[121]!==J?(K=t.jsx(et,{open:Fe,onOpenChange:le,children:J}),e[120]=Fe,e[121]=J,e[122]=K):K=e[122];let Ee;return e[123]!==y||e[124]!==M||e[125]!==V||e[126]!==K?(Ee=t.jsxs(ot,{children:[y,M,V,K]}),e[123]=y,e[124]=M,e[125]=V,e[126]=K,e[127]=Ee):Ee=e[127],Ee}function jt(){}export{Pt as default};
